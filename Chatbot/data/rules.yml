version: "3.1"

rules:


# ✅ Respond to Goodbye
- rule: Respond to Goodbye
  steps:
    - intent: goodbye
    - action: utter_goodbye

# # ✅ Respond to User Affirmation
# - rule: Respond to Affirmation
#   steps:
#     - intent: affirm
#     - action: utter_affirm

# ✅ Respond to User Denial
- rule: Respond to Denial
  steps:
    - intent: deny
    - action: utter_deny
    - action: utter_goodbye

# ✅ Handle User Mood - Positive
- rule: Respond to Positive User Mood
  steps:
    - intent: mood_great
    - action: utter_mood_great

# ✅ Handle User Mood - Negative
- rule: Respond to Negative User Mood
  steps:
    - intent: mood_unhappy
    - action: utter_mood_unhappy

# ✅ Respond to Bot Challenge
- rule: Respond to Bot Challenge
  steps:
  - intent: bot_challenge
  - action: utter_iamabot

- rule: Respond to Bot Identity Questions
  steps:
    - intent: bot_challenge
    - action: utter_iamabot

# # ✅ Handle Bird Information Requests
# - rule: Respond to Bird Information Request
#   steps:
#     - intent: bird_info_generate
#     - action: action_get_bird_info  # Calls the Bird Info Generator Component
#     - action: action_listen  # Ends rule properly

# ✅ Handle Bird Range Prediction Queries
- rule: Respond to Bird Range Prediction
  steps:
    - intent: range_prediction
    - action: action_range_prediction  # Calls the Migration Prediction Component
    - action: action_listen  # Ensures no conflicts

# # ✅ Handle Bird Image Classification
# - rule: Respond to Bird Image Classification
#   steps:
#     - intent: image_classification
#     - action: action_image_classification   # Calls the CNN Model for Image Classification

# ✅ Handle Keyword Finder Queries
- rule: Respond to Keyword Finder
  steps:
    - intent: keyword_finder
    - action: action_keyword_finder  # Calls the NLP Model for Keyword Extraction

# ✅ Handle Unknown or Unrecognized Intents
- rule: Handle Unknown Requests
  steps:
    - intent: nlu_fallback
    - action: utter_fallback

# # ✅ Allow Interactive Conversations (Optional)
# - rule: Keep the Conversation Engaging
#   steps:
#     - intent: bird_info_generate
#     - action: action_get_bird_info
#     - action: utter_followup_question  # Suggests a follow-up question for engagement

- rule: Provide More Bird Details on Request
  steps:
    - intent: affirm
    - action: utter_more_bird_info  # Asks if the user wants more details

- rule: Handle User Feedback
  steps:
  - intent: feedback
  - action: utter_thank_you
